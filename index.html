<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Culture Night | Alien Hunt</title>
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <style>
        :root { --gold: #d4af37; --gold-dark: #aa8922; }
        
        /* –ê“õ –∂–æ–ª–∞“õ—Ç—ã –±–æ–ª–¥—ã—Ä–º–∞—É –∂”ô–Ω–µ —ç–∫—Ä–∞–Ω–¥—ã —Ç–æ–ª—ã“õ “õ–∞–º—Ç—É */
        html {
            background-color: #000;
            height: -webkit-fill-available;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: radial-gradient(circle at center, rgba(0,0,0,0.5) 0%, rgba(0,0,0,1) 100%), 
                        url('https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            /* –ú–æ–±–∏–ª—å–¥—ñ –±—Ä–∞—É–∑–µ—Ä–ª–µ—Ä–¥–µ fixed “õ–∞—Ç–µ –∫”©—Ä—Å–µ—Ç—É—ñ –º“Ø–º–∫—ñ–Ω, —Å–æ–Ω–¥—ã“õ—Ç–∞–Ω scroll –Ω–µ–º–µ—Å–µ —Ç“Ø—Å—Ç—ñ –±–µ–∫—ñ—Ç—É –∫–µ—Ä–µ–∫ */
            background-attachment: scroll;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            color: #fff;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        .heading-font { font-family: 'Playfair Display', serif; }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .gold-border { border-top: 3px solid var(--gold); }

        /* iOS-—Ç–∞“ì—ã –∏–Ω–ø—É—Ç—Ç–∞—Ä–¥—ã“£ –∞–≤—Ç–æ–º–∞—Ç—Ç—ã –∂–∞“õ—ã–Ω–¥–∞—É—ã–Ω –±–æ–ª–¥—ã—Ä–º–∞—É “Ø—à—ñ–Ω –º–∏–Ω. 16px */
        .input-style {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            -webkit-appearance: none;
            font-size: 16px; 
        }
        
        .input-style:focus {
            border-color: var(--gold);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2);
            outline: none;
        }

        .btn-gold {
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            color: #000;
            font-weight: 700;
            letter-spacing: 1px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-tap-highlight-color: transparent;
        }
        
        .btn-gold:active { transform: scale(0.98); opacity: 0.9; }
        .btn-gold:disabled { opacity: 0.5; transform: none; }

        /* –¢–µ–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–¥–∞ –∫”©—Ä—Å–µ—Ç—É */
        @media (min-width: 1025px) {
            .mobile-only { display: none; }
            .desktop-warning { display: flex; }
        }
        @media (max-width: 1024px) {
            .desktop-warning { display: none; }
        }

        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* –¢”©–º–µ–Ω–≥—ñ –∂–∞“õ—Ç–∞“ì—ã –±–æ—Å –æ—Ä—ã–Ω (safe area) */
        main { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body>

    <div class="desktop-warning fixed inset-0 bg-black z-[100] flex-col items-center justify-center text-center p-10">
        <div class="mb-6 text-6xl">üì±</div>
        <h1 class="text-3xl font-bold mb-4 heading-font text-white">MOBILE ONLY</h1>
        <p class="text-gray-400 max-w-xs mx-auto">–ë“±–ª —Å–∞–π—Ç —Ç–µ–∫ –º–æ–±–∏–ª—å–¥—ñ “õ“±—Ä—ã–ª“ì—ã–ª–∞—Ä“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω. ”®—Ç—ñ–Ω–µ–º—ñ–∑, —Ç–µ–ª–µ—Ñ–æ–Ω—ã“£—ã–∑–¥–∞–Ω –∞—à—ã“£—ã–∑.</p>
    </div>

    <div class="mobile-only min-h-screen flex flex-col">
        <nav class="flex justify-between items-center px-6 py-5 backdrop-blur-xl bg-black/40 sticky top-0 z-50 border-b border-white/5 pt-[env(safe-area-inset-top)]">
            <div class="heading-font font-bold text-xl tracking-tighter text-white">
                <img src="https://avatars.mds.yandex.net/i?id=eafa2bfb868abe069fa43f2bb272320ddb96d4db-7178390-images-thumbs&n=13" alt="logo" class="w-[100px] mt-[-5px]">
            </div>

            <div class="flex items-center space-x-2 bg-white/5 px-4 py-2 rounded-2xl border border-white/10 select-none">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-[--gold]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                </svg>
                <select id="langSelect" onchange="changeLanguage()" class="bg-transparent text-[11px] font-bold outline-none border-none cursor-pointer appearance-none uppercase tracking-widest text-white">
                    <option value="kz" class="text-black">“ö–∞–∑</option>
                    <option value="en" class="text-black">Eng</option>
                    <option value="ru" class="text-black">–†—É—Å</option>
                </select>
            </div>
        </nav>

        <main class="flex-grow flex flex-col items-center px-6 pt-10 pb-12">
            <header class="text-center mb-10 fade-in">
                <h1 id="title" class="heading-font text-4xl font-bold mb-3 leading-tight">“∞–ª—Ç—Ç—ã“õ –º”ô–¥–µ–Ω–∏–µ—Ç –∫–µ—à—ñ</h1>
                <div class="h-1 w-16 bg-[--gold] mx-auto rounded-full mb-3"></div>
                <p id="subtitle" class="text-white/60 font-light tracking-widest uppercase text-[9px]">Grand Cultural Celebration 2026</p>
            </header>

            <div id="regForm" class="glass-card gold-border w-full max-w-sm p-7 rounded-[30px] fade-in">
                <div class="mb-6">
                    <label id="labelName" class="block text-[10px] uppercase tracking-[2px] font-bold mb-3 text-[--gold]">–¢–æ–ª—ã“õ –∞—Ç—ã-–∂”©–Ω—ñ“£—ñ–∑</label>
                    <input type="text" id="userName" class="input-style w-full p-4 rounded-xl text-white placeholder-white/20" placeholder="...">
                    <p id="nameHint" class="text-[9px] text-white/40 mt-3 flex items-center">
                        <span class="mr-2 inline-block w-1 h-1 bg-[--gold] rounded-full"></span>
                        –ë—ç–π–¥–∂–∏–∫—Ç–µ–≥—ñ –∞—Ç—ã“£—ã–∑–¥—ã –∞–π–Ω—ã—Ç–ø–∞–π –∫”©—à—ñ—Ä—ñ“£—ñ–∑
                    </p>
                </div>

                <div class="mb-8">
                    <label id="labelTeam" class="block text-[10px] uppercase tracking-[2px] font-bold mb-3 text-[--gold]">–ö–æ–º–∞–Ω–¥–∞“£—ã–∑–¥—ã —Ç–∞“£–¥–∞“£—ã–∑</label>
                    <div class="relative">
                        <select id="userTeam" class="input-style w-full p-4 rounded-xl text-white appearance-none">
                            <option value="Team 1" class="text-black">1 Team</option>
                            <option value="Team 2" class="text-black">2 Team</option>
                            <option value="Team 3" class="text-black">3 Team</option>
                            <option value="Team 4" class="text-black">4 Team</option>
                        </select>
                        <div class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[--gold] text-xs">‚ñº</div>
                    </div>
                </div>

                <button onclick="register()" id="btnSubmit" class="btn-gold w-full py-4 rounded-xl shadow-xl uppercase text-xs tracking-widest">–ñ–Ü–ë–ï–†–£</button>
            </div>

            <div id="resultSection" class="hidden w-full max-w-sm space-y-5 fade-in">
                <div class="glass-card p-7 rounded-[30px] border border-[--gold]/30 relative">
                    <div class="flex items-center justify-between mb-6">
                        <h3 id="clueTitle" class="heading-font text-xl font-bold text-[--gold]">–ù–∞–≤–æ–¥–∫–∞–ª–∞—Ä:</h3>
                        <span class="text-[9px] bg-[--gold]/20 text-[--gold] px-3 py-1 rounded-full border border-[--gold]/30 uppercase font-bold tracking-tighter">Top Secret</span>
                    </div>
                    <ul id="clueList" class="space-y-4"></ul>
                </div>
                
                <div class="text-center space-y-4">
                    <p id="warning" class="text-red-500 font-bold text-[10px] uppercase tracking-widest animate-pulse">“ö“±–ø–∏—è–Ω—ã —Å–∞“õ—Ç–∞“£—ã–∑!</p>
                    <div class="bg-white/5 border border-white/10 p-4 rounded-2xl">
                        <p id="prize" class="text-[10px] text-white/70 italic leading-relaxed" style="font-size: 1em; color: gold;">–ü—Ä–∏—à–µ–ª–µ—Ü—Ç—ñ —Ç–∞–ø“õ–∞–Ω –∞–¥–∞–º–¥—ã –∞—Ä–Ω–∞–π—ã —Å—ã–π–ª—ã“õ –∫“Ø—Ç–µ–¥—ñ!</p>
                    </div>
                    
                    <button onclick="resetRegistration()" class="mt-6 text-[9px] text-white/30 uppercase tracking-[2px] py-2">
                        ‚Ü∫ –¢—ñ—Ä–∫–µ–ª—É–¥—ñ “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É / Reset
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script>
        const translations = {
            kz: { title: "–ö–∞–º–ø –∞–π–Ω–∞–ª–∞—Å—ã–Ω–¥–∞", subtitle: "Grand Cultural Celebration 2026", labelName: "–¢–æ–ª—ã“õ –∞—Ç—ã-–∂”©–Ω—ñ“£—ñ–∑", nameHint: "–ë—ç–π–¥–∂–∏–∫—Ç–µ–≥—ñ –∞—Ç—ã“£—ã–∑–¥—ã –∞–π–Ω—ã—Ç–ø–∞–π –∫”©—à—ñ—Ä—ñ–ø –∂–∞–∑—ã“£—ã–∑!", labelTeam: "–ö–æ–º–∞–Ω–¥–∞“£—ã–∑–¥—ã —Ç–∞“£–¥–∞“£—ã–∑", btnSubmit: "–ñ–Ü–ë–ï–†–£", clueTitle: "–ù–∞–≤–æ–¥–∫–∞–ª–∞—Ä:", warning: "“ö“±–ø–∏—è–Ω—ã —Å–∞“õ—Ç–∞“£—ã–∑!", prize: "–ü—Ä–∏—à–µ–ª–µ—Ü—Ç—ñ —Ç–∞–ø“õ–∞–Ω –∞–¥–∞–º–¥—ã –∞—Ä–Ω–∞–π—ã —Å—ã–π–ª—ã“õ –∫“Ø—Ç–µ–¥—ñ!" },
            en: { title: "Around The Camp", subtitle: "Grand Cultural Celebration 2026", labelName: "Full Name", nameHint: "Copy the name exactly from your badge!", labelTeam: "Select Your Team", btnSubmit: "SEND", clueTitle: "Your Clues:", warning: "Keep this a secret!", prize: "A special prize awaits the one who finds the alien!" },
            ru: { title: "–í–æ–∫—Ä—É–≥ –∫–∞–º–ø–∞", subtitle: "Grand Cultural Celebration 2026", labelName: "–ü–æ–ª–Ω–æ–µ –∏–º—è", nameHint: "–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–º—è —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –Ω–∞ –±–µ–π–¥–∂–∏–∫–µ!", labelTeam: "–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É", btnSubmit: "–û–¢–ü–†–ê–í–ò–¢–¨", clueTitle: "–í–∞—à–∏ –Ω–∞–≤–æ–¥–∫–∏:", warning: "–°–æ–±–ª—é–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω–æ—Å—Ç—å!", prize: "–¢–æ–≥–æ, –∫—Ç–æ –Ω–∞–π–¥–µ—Ç –ø—Ä–∏—à–µ–ª—å—Ü–∞, –∂–¥–µ—Ç –ø—Ä–∏–∑!" }
        };

        const allClues = [
            { text: {kz: "–û–ª “Ø–Ω–µ–º—ñ “±–π—ã–º–¥–∞—Å—Ç—ã—Ä—É—à—ã–ª–∞—Ä –º–µ–Ω –≤–æ–∂–∞—Ç—ã–π–ª–∞—Ä–¥—ã“£ “õ–∞—Å—ã–Ω–¥–∞ –∂“Ø—Ä–µ–¥—ñ", en: "He stays close to the organizers and counselors all the time", ru: "–û–Ω –≤—Å—ë –≤—Ä–µ–º—è –¥–µ—Ä–∂–∏—Ç—Å—è —Ä—è–¥–æ–º —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º–∏ –∏ –≤–æ–∂–∞—Ç—ã–º–∏"}, isTrue: false },
            { text: {kz: "–û–ª –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–æ–ª—Å–∞ –¥–∞, —Ç”ô—Ç—Ç—ñ –∂–µ–≥–µ–Ω –µ–º–µ—Å", en: "He didn't eat sweets, even when he could", ru: "–û–Ω –Ω–µ –µ–ª —Å–ª–∞–¥–∫–æ–µ, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å"}, isTrue: true },
            { text: {kz: "–û–Ω—ã“£ –¥–µ–Ω–µ—Å—ñ–Ω–¥–µ —Å–∞–ª—ã–Ω“ì–∞–Ω –±–µ–ª–≥—ñ –±–∞—Ä (“õ–∞–ª–∞–º–º–µ–Ω —Å–∞–ª—ã–Ω“ì–∞–Ω —Å—É—Ä–µ—Ç–∫–µ “±“õ—Å–∞–π–¥—ã, –±—ñ—Ä–∞“õ “õ–∞–π—Ç–∞–ª–∞–Ω–∞—Ç—ã–Ω —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–¥–µ–Ω —Ç“±—Ä–∞–¥—ã)", en: "He has a sign painted on his body (looks like a simple pen drawing, but consists of repeating elements)", ru: "–£ –Ω–µ–≥–æ –µ—Å—Ç—å –∑–Ω–∞–∫, –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Ç–µ–ª–µ (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Ä–∏—Å—É–Ω–æ–∫ —Ä—É—á–∫–æ–π, –Ω–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤)"}, isTrue: true },
            { text: {kz: "–û–Ω—ã“£ ”©–∑ –º–∞“õ—Å–∞—Ç—ã–Ω–¥–∞ “õ–æ–ª–¥–∞–Ω—ã–ª–º–∞–π—Ç—ã–Ω –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã –±–∞—Ä", en: "He has an accessory that he uses for other purposes", ru: "–£ –Ω–µ–≥–æ –µ—Å—Ç—å –∞–∫—Å–µ—Å—Å—É–∞—Ä, –∫–æ—Ç–æ—Ä—ã–º –æ–Ω –ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é"}, isTrue: true },
            { text: {kz: "–û–ª –±–∞—Å“õ–∞–ª–∞—Ä–¥—ã“£ –∞–π—Ç“õ–∞–Ω—ã–Ω “õ–∞–π—Ç–∞–ª–∞“ì–∞–Ω–¥—ã ”©—Ç–µ –∂–∞“õ—Å—ã –∫”©—Ä–µ–¥—ñ", en: "He likes to repeat himself after others", ru: "–û—á–µ–Ω—å –ª—é–±–∏—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∑–∞ –¥—Ä—É–≥–∏–º–∏"}, isTrue: true }
        ];

        function getFixedClues() {
            let saved = localStorage.getItem('alien_hunt_clues');
            if (saved) return JSON.parse(saved);

            let clues = [];
            let pool = [...allClues];
            while(clues.length < 2) {
                let idx = Math.floor(Math.random() * pool.length);
                let selected = pool.splice(idx, 1)[0];
                clues.push(selected);
                if(clues.length === 2 && !clues[0].isTrue && !clues[1].isTrue) return getFixedClues();
            }
            
            localStorage.setItem('alien_hunt_clues', JSON.stringify(clues));
            return clues;
        }

        function changeLanguage() {
            const lang = document.getElementById('langSelect').value;
            Object.keys(translations[lang]).forEach(key => {
                const el = document.getElementById(key);
                if(el) el.innerText = translations[lang][key];
            });
            if(localStorage.getItem('alien_hunt_registered')) showClues(getFixedClues());
        }

        async function register() {
            const name = document.getElementById('userName').value.trim();
            const team = document.getElementById('userTeam').value;
            if(!name) return alert("–ê—Ç—ã“£—ã–∑–¥—ã –∂–∞–∑—ã“£—ã–∑ / Enter your name");

            const btn = document.getElementById('btnSubmit');
            const originalText = btn.innerText;
            btn.innerText = "...";
            btn.disabled = true;

            const myClues = getFixedClues();
            const clueTextsForSheet = myClues.map(c => c.text.en + (c.isTrue ? "" : " (FALSE)")).join(" | ");
            const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbybMT3yq44dAupUxNlp-NIYmaZDBSbCEfj3567pjOVH6DzU4cytZ8bGgIw_7g8DGejeCg/exec";
            
            try {
                await fetch(SCRIPT_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify({ name, team, clues: clueTextsForSheet }) });
                localStorage.setItem('alien_hunt_registered', "true");
                showClues(myClues);
            } catch(e) {
                localStorage.setItem('alien_hunt_registered', "true");
                showClues(myClues);
            }
        }

        function showClues(clues) {
            const lang = document.getElementById('langSelect').value;
            const list = document.getElementById('clueList');
            list.innerHTML = "";
            clues.forEach(c => {
                const li = document.createElement('li');
                li.className = "flex items-start space-x-3 bg-white/5 p-4 rounded-xl border border-white/5";
                li.innerHTML = `<span class="text-[--gold] mt-1 text-[10px]">‚óÜ</span> <span class="text-[13px] font-light leading-relaxed text-white">${c.text[lang]}</span>`;
                list.appendChild(li);
            });
            document.getElementById('regForm').classList.add('hidden');
            document.getElementById('resultSection').classList.remove('hidden');
            window.scrollTo(0,0);
        }

        function resetRegistration() {
            if(confirm("–¢—ñ—Ä–∫–µ–ª—É–¥—ñ “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É / RESET")) {
                localStorage.removeItem('alien_hunt_registered');
                document.getElementById('userName').value = "";
                document.getElementById('regForm').classList.remove('hidden');
                document.getElementById('resultSection').classList.add('hidden');
                const btn = document.getElementById('btnSubmit');
                btn.disabled = false;
                btn.innerText = translations[document.getElementById('langSelect').value].btnSubmit;
            }
        }

        window.onload = () => {
            if(localStorage.getItem('alien_hunt_registered')) {
                showClues(getFixedClues());
            }
            changeLanguage();
        };
    </script>
</body>
</html>
